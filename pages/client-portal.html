<!doctype html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Client Portal - Stay Dripped Mobile IV | Patient Login</title>
    <meta
      name="description"
      content="Access your Stay Dripped client portal to manage appointments, view treatment history, and update your information. Secure login for existing clients."
    />

    <!-- Favicons -->
    <link rel="apple-touch-icon" href="../assets/images/apple-touch-icon.png" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../assets/images/favicon-32x32.png"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="/css/styles.css" />
    <link rel="stylesheet" href="/assets/css/intakeq-widgets.css" />

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Skip to content -->
    <a href="#main" class="skip-link">Skip to main content</a>

    <style>
      /* Neumorphic Portal Styling */
      .neumorphic-portal {
        --neumorphic-primary: #e5e8ef;
        --neumorphic-primary-dark: #e1e4ea;
        --neumorphic-secondary-lime: #e1ff2d;
        --neumorphic-secondary-lavender: #d3b7f8;
        --neumorphic-primary-box-shadow: -7px -7px 20px 0px #fff9, -4px -4px 5px 0px #fff9,
          7px 7px 20px 0px #0002, 4px 4px 5px 0px #0001, inset 0px 0px 0px 0px #fff9,
          inset 0px 0px 0px 0px #0001, inset 0px 0px 0px 0px #fff9,
          inset 0px 0px 0px 0px #0001;
        --neumorphic-secondary-box-shadow: 4px 4px 6px 0 rgba(255, 255, 255, 0.5),
          -4px -4px 6px 0 rgba(116, 125, 136, 0.2),
          inset -4px -4px 6px 0 rgba(255, 255, 255, 0.5),
          inset 4px 4px 6px 0 rgba(116, 125, 136, 0.3);
        --neumorphic-font: "Nunito Sans", sans-serif;
        
        background: var(--neumorphic-primary);
        min-height: 500px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 2rem;
        position: relative;
        overflow: hidden;
      }

      .neumorphic-portal::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(145deg, #f1f4fa, #cbcdd3);
        opacity: 0.8;
        z-index: 1;
      }

      .neumorphic-form-container {
        position: relative;
        z-index: 2;
        width: 100%;
        max-width: 400px;
        padding: 24px;
        border-radius: 20px;
        background: linear-gradient(145deg, #f1f4fa, #cbcdd3);
        box-shadow: var(--neumorphic-primary-box-shadow);
        min-height: 400px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
      }

      .neumorphic-title {
        color: #5a5a5a;
        font-weight: 800;
        font-size: 1.4rem;
        line-height: 1;
        letter-spacing: 0.8px;
        font-family: var(--neumorphic-font);
        margin-bottom: 2rem;
        text-align: center;
      }

      .neumorphic-widget-wrapper {
        width: 100%;
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 1.5rem;
      }

      /* IntakeQ Widget Styling Override */
      #intakeq {
        background: transparent !important;
        border: none !important;
        width: 100% !important;
        max-width: 100% !important;
        min-height: auto !important;
      }

      /* Override IntakeQ form elements with neumorphic styling */
      #intakeq input[type="text"],
      #intakeq input[type="email"],
      #intakeq input[type="password"],
      #intakeq input[type="tel"] {
        border: none !important;
        border-radius: 10px !important;
        background: linear-gradient(145deg, #f1f4fa, #cbcdd3) !important;
        box-shadow: var(--neumorphic-secondary-box-shadow) !important;
        padding: 12px 20px !important;
        height: 49px !important;
        width: 100% !important;
        font-family: var(--neumorphic-font) !important;
        font-size: 0.95rem !important;
        color: #5a5a5a !important;
        outline: none !important;
        margin-bottom: 1rem !important;
      }

      #intakeq input[type="text"]:focus,
      #intakeq input[type="email"]:focus,
      #intakeq input[type="password"]:focus,
      #intakeq input[type="tel"]:focus {
        box-shadow: var(--neumorphic-secondary-box-shadow), 0 0 0 2px rgba(90, 200, 250, 0.3) !important;
      }

      #intakeq input::placeholder {
        color: #9ca3af !important;
        font-family: var(--neumorphic-font) !important;
      }

      #intakeq button,
      #intakeq input[type="submit"],
      #intakeq input[type="button"] {
        background: linear-gradient(145deg, #f1f4fa, #cbcdd3) !important;
        box-shadow: var(--neumorphic-primary-box-shadow) !important;
        border: none !important;
        border-radius: 10px !important;
        cursor: pointer !important;
        font-weight: 800 !important;
        letter-spacing: 0.8px !important;
        height: 50px !important;
        font-size: 1rem !important;
        color: #5a5a5a !important;
        font-family: var(--neumorphic-font) !important;
        width: 100% !important;
        position: relative !important;
        overflow: hidden !important;
        transition: all 0.3s ease !important;
      }

      #intakeq button:hover,
      #intakeq input[type="submit"]:hover,
      #intakeq input[type="button"]:hover {
        transform: translateY(-2px) !important;
        box-shadow: var(--neumorphic-primary-box-shadow), 0 8px 25px rgba(0, 0, 0, 0.15) !important;
      }

      #intakeq button:active,
      #intakeq input[type="submit"]:active,
      #intakeq input[type="button"]:active {
        transform: translateY(0) !important;
        box-shadow: inset 4px 4px 6px 0 rgba(116, 125, 136, 0.3), inset -4px -4px 6px 0 rgba(255, 255, 255, 0.5) !important;
      }

      /* IntakeQ form container styling */
      #intakeq .form-container,
      #intakeq .login-form,
      #intakeq form {
        background: transparent !important;
        border: none !important;
        padding: 0 !important;
        margin: 0 !important;
        width: 100% !important;
      }

      /* IntakeQ labels and text */
      #intakeq label,
      #intakeq .form-label,
      #intakeq p,
      #intakeq span:not(.ripple) {
        color: #5a5a5a !important;
        font-family: var(--neumorphic-font) !important;
        font-weight: 500 !important;
        font-size: 0.9rem !important;
      }

      #intakeq a {
        color: #6b7280 !important;
        text-decoration: underline !important;
        font-family: var(--neumorphic-font) !important;
        font-size: 0.8rem !important;
        transition: color 0.3s ease !important;
      }

      #intakeq a:hover {
        color: var(--color-primary) !important;
      }

      /* Loading states */
      .neumorphic-loading {
        display: flex;
        align-items: center;
        justify-content: center;
        color: #5a5a5a;
        font-family: var(--neumorphic-font);
        font-weight: 500;
      }

      .neumorphic-loading::after {
        content: '';
        width: 20px;
        height: 20px;
        border: 2px solid #5a5a5a;
        border-top: 2px solid transparent;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-left: 10px;
      }

      /* Portal specific card styling */
      .portal-card {
        background: white;
        border-radius: 1.5rem;
        box-shadow: 0 4px 12px rgb(0 0 0 / 5%);
        overflow: hidden;
        border: 1px solid rgb(0 0 0 / 5%);
      }

      .portal-card-header {
        background: linear-gradient(135deg, #007aff 0%, #5ac8fa 100%);
        color: white;
        padding: 2rem;
        text-align: center;
      }

      .portal-card-icon {
        font-size: 3rem;
        margin-bottom: 1rem;
        display: block;
      }

      .portal-card-title {
        font-size: 1.75rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
      }

      .portal-card-description {
        opacity: 0.95;
        font-size: 1.1rem;
      }

      .portal-card-content {
        padding: 3rem 2rem;
      }

      /* Features section styling */
      .portal-features {
        padding: 6rem 0;
        background: white;
      }

      .portal-features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
      }

      .portal-feature-card {
        text-align: center;
        padding: 2rem;
        border-radius: 1rem;
        background: #f8fafc;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .portal-feature-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 25px rgb(0 0 0 / 10%);
        border-color: var(--color-primary);
      }

      .portal-feature-icon {
        font-size: 3rem;
        color: var(--color-primary);
        margin-bottom: 1rem;
      }

      .portal-feature-title {
        font-size: 1.25rem;
        font-weight: 700;
        color: var(--color-gray-900);
        margin-bottom: 1rem;
      }

      .portal-feature-description {
        color: var(--color-gray-600);
        line-height: 1.6;
      }

      /* CTA section */
      .portal-cta {
        padding: 6rem 0;
        background: linear-gradient(135deg, #007aff 0%, #5ac8fa 100%);
        color: white;
        text-align: center;
      }

      .portal-cta-title {
        font-size: clamp(2rem, 4vw, 3rem);
        font-weight: 800;
        margin-bottom: 1rem;
      }

      .portal-cta-subtitle {
        font-size: 1.25rem;
        opacity: 0.95;
        margin-bottom: 2.5rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .portal-cta-buttons {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .neumorphic-form-container {
          max-width: 100%;
          padding: 20px;
          min-height: 350px;
        }
        
        .neumorphic-title {
          font-size: 1.2rem;
        }

        .portal-card-content {
          padding: 2rem 1.5rem;
        }

        .portal-features-grid {
          grid-template-columns: 1fr;
        }

        .portal-cta-buttons {
          flex-direction: column;
        }
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>

  <body class="page-transition">
    <!-- Include Header -->
    <div id="header-placeholder"></div>

    <main id="main">
      <!-- Hero Section -->
      <section class="hero">
        <div
          class="hero-bg parallax"
          style="
            background-image: url('https://cdn.builder.io/api/v1/image/assets%2F337c720945064b44af05129952e6433b%2Fe8f02bdd560944b1928c770824445216?format=webp&width=800');
          "
        ></div>

        <div class="container">
          <div class="hero-content">
            <h1 class="hero-title display-1 fade-in">
              Client Portal
            </h1>
            <p class="hero-subtitle fade-in">
              Manage your appointments, view treatment history, and update your
              information through our secure client portal.
            </p>
          </div>
        </div>

        <a href="#portal" class="hero-scroll">
          <span>Scroll to access portal</span>
        </a>
      </section>

      <!-- Portal Section -->
      <section class="section bg-gray-50" id="portal">
        <div class="container">
          <div class="text-center scroll-reveal mb-16">
            <h2 class="text-5xl font-bold text-gray-900 mb-6">
              Access Your Account
            </h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
              Login to your patient portal to manage your wellness journey
            </p>
          </div>

          <div class="max-w-4xl mx-auto">
            <div class="portal-card scroll-reveal">
              <div class="portal-card-header">
                <div class="portal-card-icon">üîê</div>
                <h3 class="portal-card-title">Secure Client Login</h3>
                <p class="portal-card-description">
                  Access your personalized wellness dashboard
                </p>
              </div>

              <div class="portal-card-content">
                <!-- Neumorphic IntakeQ Portal Widget -->
                <div class="neumorphic-portal">
                  <div class="neumorphic-form-container">
                    <div class="neumorphic-title">Patient Portal Login</div>
                    
                    <div class="neumorphic-widget-wrapper">
                      <!-- IntakeQ Widget Container -->
                      <div id="intakeq-client-portal">
                        <div class="neumorphic-loading">Loading secure portal...</div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Fallback Link -->
                <div class="text-center mt-8">
                  <a
                    href="https://Staydripped.intakeq.com/booking?clientArea=1"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn btn-secondary btn-lg"
                  >
                    <i class="fas fa-external-link-alt"></i>
                    Open Portal in New Window
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="portal-features">
        <div class="container">
          <div class="text-center scroll-reveal">
            <h2 class="text-5xl font-bold text-gray-900 mb-6">What You Can Do</h2>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
              Comprehensive account management for your wellness journey
            </p>
          </div>

          <div class="portal-features-grid stagger-children">
            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üìÖ</div>
              <h4 class="portal-feature-title">Manage Appointments</h4>
              <p class="portal-feature-description">
                View, reschedule, or cancel your upcoming appointments with ease
              </p>
            </div>

            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üìã</div>
              <h4 class="portal-feature-title">Treatment History</h4>
              <p class="portal-feature-description">
                Access your complete treatment history and medical records
              </p>
            </div>

            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üìù</div>
              <h4 class="portal-feature-title">Update Information</h4>
              <p class="portal-feature-description">
                Keep your contact details and medical information current
              </p>
            </div>

            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üí¨</div>
              <h4 class="portal-feature-title">Message Your Provider</h4>
              <p class="portal-feature-description">
                Communicate securely with your healthcare team
              </p>
            </div>

            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üìä</div>
              <h4 class="portal-feature-title">Wellness Tracking</h4>
              <p class="portal-feature-description">
                Monitor your wellness progress and treatment outcomes
              </p>
            </div>

            <div class="portal-feature-card scroll-reveal">
              <div class="portal-feature-icon">üîî</div>
              <h4 class="portal-feature-title">Appointment Reminders</h4>
              <p class="portal-feature-description">
                Receive automated reminders and important notifications
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="portal-cta">
        <div class="container">
          <div class="scroll-reveal">
            <h2 class="portal-cta-title">Need to Schedule a New Appointment?</h2>
            <p class="portal-cta-subtitle">
              Book your next wellness treatment or speak with our team about your
              needs
            </p>

            <div class="portal-cta-buttons">
              <a href="booking.html" class="btn btn-secondary btn-lg">
                <i class="fas fa-calendar-plus"></i>
                Book New Appointment
              </a>
              <a href="tel:+16026889825" class="btn btn-outline btn-lg text-white border-white hover:bg-white hover:text-primary">
                <i class="fas fa-phone"></i>
                Call (602) 688-9825
              </a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Include Footer -->
    <div id="footer-placeholder"></div>

    <!-- IntakeQ Client Area Script -->
    <script>
      (function (c) {
        window.intakeq = "68460f36bc104b6aa9da43e0";
        window.intakeqClientArea = true;
        var i = c.createElement("script");
        i.type = "text/javascript";
        i.async = true;
        i.src = "https://intakeq.com/js/widget.min.js?1";
        document.head.appendChild(i);
      })(document);
    </script>

    <!-- Load header and footer -->
    <script>
      // Load header safely
      fetch("/components/header.html")
        .then((response) => response.text())
        .then((html) => {
          const placeholder = document.getElementById("header-placeholder");
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = html;
          placeholder.replaceChildren(...tempDiv.children);
        });

      // Load footer safely
      fetch("/components/footer.html")
        .then((response) => response.text())
        .then((html) => {
          const placeholder = document.getElementById("footer-placeholder");
          const tempDiv = document.createElement("div");
          tempDiv.innerHTML = html;
          placeholder.replaceChildren(...tempDiv.children);
        });
    </script>

    <!-- Initialize neumorphic widget -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("intakeq-client-portal");
        if (container) {
          // Clear loading state
          container.innerHTML = '';
          
          // Create the IntakeQ div for client area with neumorphic styling
          const widgetDiv = document.createElement("div");
          widgetDiv.id = "intakeq";
          widgetDiv.style.maxWidth = "100%";
          widgetDiv.style.width = "100%";
          widgetDiv.style.minHeight = "auto";
          widgetDiv.style.background = "transparent";
          container.appendChild(widgetDiv);
        }
        
        // Add IntakeQ load event listener for additional styling
        window.addEventListener('message', function(event) {
          if (event.origin === 'https://intakeq.com') {
            // Widget loaded, apply final styling adjustments
            setTimeout(() => {
              const intakeqElement = document.getElementById('intakeq');
              if (intakeqElement) {
                // Force neumorphic styling on any dynamic content
                const inputs = intakeqElement.querySelectorAll('input, button');
                inputs.forEach(input => {
                  input.style.fontFamily = '"Nunito Sans", sans-serif';
                });
              }
            }, 1000);
          }
        });

        // Analytics tracking
        if (typeof gtag !== "undefined") {
          gtag("event", "page_view", {
            page_title: "Client Portal",
            page_location: window.location.href,
          });
        }
      });
    </script>

    <!-- Main JavaScript from the shared system -->
    <script>
      // Enhanced Mobile Menu Class
      class MobileMenu {
        constructor() {
          this.toggle = document.querySelector(".mobile-menu-btn");
          this.menu = document.querySelector(".mobile-menu");
          this.overlay = document.querySelector(".mobile-menu");
          this.closeBtn = document.querySelector(".mobile-menu-close");
          this.links = document.querySelectorAll(".mobile-menu-link");
          this.isOpen = false;
          this.init();
        }

        init() {
          if (!this.toggle || !this.menu) return;

          this.toggle.addEventListener("click", (e) => {
            e.preventDefault();
            this.toggleMenu();
          });

          if (this.closeBtn) {
            this.closeBtn.addEventListener("click", (e) => {
              e.preventDefault();
              this.closeMenu();
            });
          }

          if (this.overlay) {
            this.overlay.addEventListener("click", (e) => {
              if (e.target === this.overlay) this.closeMenu();
            });
          }

          this.links.forEach((link) => {
            link.addEventListener("click", () => {
              setTimeout(() => this.closeMenu(), 200);
            });
          });

          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && this.isOpen) {
              this.closeMenu();
            }
          });
        }

        toggleMenu() {
          if (this.isOpen) {
            this.closeMenu();
          } else {
            this.openMenu();
          }
        }

        openMenu() {
          this.isOpen = true;
          this.menu.classList.add("active");
          this.toggle.classList.add("active");
          document.body.style.overflow = "hidden";
          this.toggle.setAttribute("aria-expanded", "true");
        }

        closeMenu() {
          this.isOpen = false;
          this.menu.classList.remove("active");
          this.toggle.classList.remove("active");
          document.body.style.overflow = "";
          this.toggle.setAttribute("aria-expanded", "false");
        }
      }

      // Enhanced Scroll Effects
      class ScrollEffects {
        constructor() {
          this.header = document.getElementById("header");
          this.progressBar = document.querySelector(".scroll-progress");
          this.parallaxElements = document.querySelectorAll(".parallax");
          this.init();
        }

        init() {
          window.addEventListener("scroll", () => {
            this.updateHeader();
            this.updateProgress();
            this.updateParallax();
          });
        }

        updateHeader() {
          const scrolled = window.scrollY > 50;
          if (this.header) {
            if (scrolled) {
              this.header.classList.add("scrolled");
            } else {
              this.header.classList.remove("scrolled");
            }
          }
        }

        updateProgress() {
          const scrollPercent =
            (window.scrollY /
              (document.documentElement.scrollHeight - window.innerHeight)) *
            100;
          if (this.progressBar) {
            this.progressBar.style.transform = `scaleX(${scrollPercent / 100})`;
          }
        }

        updateParallax() {
          const scrolled = window.scrollY;
          this.parallaxElements.forEach((element) => {
            const rate = scrolled * -0.5;
            element.style.transform = `translateZ(-200px) scale(1.2) translateY(${rate}px)`;
          });
        }
      }

      // Enhanced Intersection Observer
      class AnimationObserver {
        constructor() {
          this.observerOptions = {
            threshold: 0.1,
            rootMargin: "0px 0px -80px 0px",
          };
          this.init();
        }

        init() {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("visible", "revealed");

                // Stagger children animations
                const children = entry.target.querySelectorAll(
                  ".portal-feature-card, .fade-in",
                );
                children.forEach((child, index) => {
                  setTimeout(() => {
                    child.classList.add("visible");
                  }, index * 100);
                });
              }
            });
          }, this.observerOptions);

          // Observe scroll reveal elements
          document
            .querySelectorAll(".scroll-reveal, .fade-in")
            .forEach((el) => {
              observer.observe(el);
            });
        }
      }

      // Enhanced Smooth Scrolling
      function initSmoothScrolling() {
        document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
          anchor.addEventListener("click", function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute("href"));
            if (target) {
              const headerHeight =
                document.querySelector(".header")?.offsetHeight || 0;
              const targetPosition =
                target.getBoundingClientRect().top +
                window.pageYOffset -
                headerHeight -
                20;

              window.scrollTo({
                top: targetPosition,
                behavior: "smooth",
              });
            }
          });
        });
      }

      // Page Load Animation
      function initPageAnimations() {
        document.body.classList.add("loaded");
      }

      // Initialize everything when DOM is ready
      document.addEventListener("DOMContentLoaded", () => {
        // Initialize core functionality
        new MobileMenu();
        new ScrollEffects();
        new AnimationObserver();

        // Initialize enhancements
        initSmoothScrolling();
        initPageAnimations();

        console.log("‚ú® Stay Dripped Client Portal - Loaded with Neumorphic Styling");
      });
    </script>
  </body>
</html>
